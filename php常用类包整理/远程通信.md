> ### curl方法

* 简单的获取远程接口数据
```php
<?php
$ch = curl_init();  //创建了一个curl会话资源，成功返回一个句柄；
$url = "https://github.com/search?q=react";
curl_setopt($ch, CURLOPT_URL, $url);  //设置url

curl_setopt($ch, RETURNTRANSFER, 0);  //设置是否将相应结果写入变量,0是直接echo出,1是存入 ,一般用1,不需要直接echo,存入变量就可以了

$output = curl_exec($ch);  //执行，然后将响应结果存入$output变量，供下面echo；

echo $output;

curl_close($ch); //关闭这个会话资源

```
***

* 发送get请求（默认是get请求,不需要设置）
```php
<?php 
   // create curl resource 
   $ch = curl_init(); //创建了一个curl会话资源，成功返回一个句柄；
   $url = "https://github.com/search?q=react";
   // set url 
   curl_setopt($ch, CURLOPT_URL, $url); //设置url

   //return the transfer as a string 
   curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); //设置是否将相应结果写入变量,0是直接echo出,1是存入 

   // $output contains the output string 
   $output = curl_exec($ch); //执行，然后将响应结果存入$output变量，供下面echo；

   //echo output
   echo $output;

   // close curl resource to free up system resources 
   curl_close($ch);      //关闭这个会话资源
?>
```

  - 除非是非法和自制的证书,需要避开ssl证书检查的https请求,才会将下面两项设为false,生产环境不建议,这样不安全
  
   `
    CURLOPT_SSL_VERIFYPEER - verify the peer's SSL certificate  
    CURLOPT_SSL_VERIFYHOST - verify the certificate's name against host
   `
   
* 发送post请求
```php
<?php

<?php 
    $data=array(
    "name" => "Lei",
    "msg" => "Are you OK?"
    );

    $ch = curl_init(); 

    curl_setopt($ch, CURLOPT_URL, "http://测试服务器的IP马赛克/testRespond.php"); 
    curl_setopt($ch, CURLOPT_POST, 1);
    //The number of seconds to wait while trying to connect. Use 0 to wait indefinitely.
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); 
    curl_setopt($ch, CURLOPT_POSTFIELDS , http_build_query($data));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 

    $output = curl_exec($ch); 

    echo $output;

    curl_close($ch);      
?>

```