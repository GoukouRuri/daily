#MySQL数据源配置，详情请查看：http://www.coreseek.cn/products-install/mysql/
#请先将var/test/documents.sql导入数据库，并配置好以下的MySQL用户密码数据库

#源定义
source base
{
    type                    = mysql

    sql_host                = 192.168.20.180
    sql_user                = miqixin_mo
    sql_pass                = miqixin_mo8812345
    sql_db                  = miqixin
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8
    sql_query               = SELECT id, name,corporation,telephone,address,business_scope,province,city,industry_id,capital,creation_date,addtime,is_show,cecdc_sort,cecdc_type FROM c_base
                                                              #sql_query第一列id需为整数
                                                              #title、content作为字符串/文本字段，被全文索引
    sql_attr_uint           = id           #从SQL读取到的值必须为整数
    sql_attr_uint        	= province
    sql_field_str2wordcount	= name
	sql_attr_uint        	= city
	sql_attr_uint        	= industry_id
	sql_attr_uint        	= capital
	sql_attr_uint        	= creation_date
	sql_attr_uint        	= is_show
	sql_attr_uint        	= is_cecdc
	sql_attr_uint           = cecdc_sort
	sql_attr_uint           = cecdc_type
    sql_attr_timestamp      = addtime #从SQL读取到的值必须为整数，作为时间属性


#   sql_query_info_pre      = SET NAMES utf8                    #命令行查询时，设置正确的字符集
#	sql_query_info          = SELECT name FROM c_base WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source name : base { #按公司名称搜索
    sql_query            = SELECT id,name,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base
}

source corporation : base { #按法人搜索
    sql_query            = SELECT id,corporation,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base
}

source industry : base { #按行业搜索
    sql_query            = SELECT id,business_scope,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base
}

source cecdc : base { #按诚信搜索
    sql_query            = SELECT id,name,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base where is_cecdc = 1
}

source mobile : base { #按地址电话搜索
    sql_query            = SELECT id,telephone,address,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base
}
	
source list : base { #搜索上市公司
    sql_query            = SELECT id,name,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base where list = 1
}

source san : base { #搜索上市公司
    sql_query            = SELECT id,name,province,industry_id,city,capital,creation_date,is_show,cecdc_sort,cecdc_type FROM c_base where list = 2
}

source exposure : base { #搜索曝光公司
    sql_query            = SELECT id,name,province,industry_id,city,capital,creation_date,is_show,is_exposure FROM c_base where is_exposure = 1
}

source base_delta : base { #增量数据源
    sql_query_pre       = REPLACE INTO sph_counter SELECT 1, MAX(id) FROM c_base
    sql_query_post  	= UPDATE sph_counter  SET max_doc_id=(SELECT MAX(id) FROM c_base_bak) where counter_id=1
}


#商标数据源
source brand 
{
    type                    = mysql

    sql_host                = 192.168.32.48
    sql_user                = root
    sql_pass                = 123456
    sql_db                  = miqixin
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8
    sql_query               = SELECT id,name,number,date,brand_type,state,is_show FROM c_brand
                                                              #sql_query第一列id需为整数
                                                              #title、content作为字符串/文本字段，被全文索引
    sql_attr_uint           = id           #从SQL读取到的值必须为整数
	sql_attr_uint        	= is_show
    sql_attr_timestamp      = addtime #从SQL读取到的值必须为整数，作为时间属性


    sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
	sql_query_info          = SELECT * FROM c_brand WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source brand_delta : brand { #增量数据源
    sql_query_pre       = REPLACE INTO sph_counter SELECT 3, MAX(id) FROM c_brand
    sql_query_post  	= UPDATE sph_counter  SET max_doc_id=(SELECT MAX(id) FROM c_brand) where counter_id=3
}

#法院公告数据源
source affiche 
{
    type                    = mysql

    sql_host                = 192.168.32.48
    sql_user                = root
    sql_pass                = 123456
    sql_db                  = miqixin
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8
    sql_query               = SELECT id,name,affiche,affiche_type,affiche_date,affiche_id,is_show FROM c_affiche
                                                              #sql_query第一列id需为整数
                                                              #title、content作为字符串/文本字段，被全文索引
    sql_attr_uint           = id           #从SQL读取到的值必须为整数
	sql_attr_uint        	= is_show
    sql_attr_timestamp      = addtime #从SQL读取到的值必须为整数，作为时间属性


    sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
	sql_query_info          = SELECT * FROM c_affiche WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source affiche_delta : affiche { #增量数据源
    sql_query_pre       = REPLACE INTO sph_counter SELECT 4, MAX(id) FROM c_affiche
    sql_query_post  	= UPDATE sph_counter  SET max_doc_id=(SELECT MAX(id) FROM c_affiche) where counter_id=4
}

#社会团体数据源
source commity 
{
    type                    = mysql

    sql_host                = 192.168.32.48
    sql_user                = root
    sql_pass                = 123456
    sql_db                  = miqixin
    sql_port                = 3306
    sql_query_pre           = SET NAMES utf8
    sql_query               = SELECT id,commity_name,is_show FROM c_commity
                                                              #sql_query第一列id需为整数
                                                              #title、content作为字符串/文本字段，被全文索引
    sql_attr_uint           = id           #从SQL读取到的值必须为整数
	sql_attr_uint        	= is_show
    sql_attr_timestamp      = addtime #从SQL读取到的值必须为整数，作为时间属性


    sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
	sql_query_info          = SELECT * FROM c_commity WHERE id=$id #命令行查询时，从数据库读取原始数据信息
}

source commity_delta : commity { #增量数据源
    sql_query_pre       = REPLACE INTO sph_counter SELECT 4, MAX(id) FROM c_commity
    sql_query_post  	= UPDATE sph_counter  SET max_doc_id=(SELECT MAX(id) FROM c_commity) where counter_id=4
}


#index定义
index base
{
    source            = base             #对应的source名称
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/base #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 1
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:/phpStudy/WWW/coreseek-4.1-win32/etc/
    #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index name:base
{
    source            = name             #对应的source名称
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/name #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
}

index corporation:base
{
    source            = corporation
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/corporation 
}

index industry:base
{
    source            = industry
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/industry 
}

index cecdc:base
{
    source            = cecdc
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/cecdc 
}

index mobile:base
{
    source            = mobile
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/mobile 
}

index list:base
{
    source            = list
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/list 
}

index san:base
{
    source            = san
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/san 
}

index exposure:base
{
    source            = exposure
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/exposure 
}

index base_delta:base
{
    source            = base_delta
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/base_delta 
}

index brand
{
    source            = brand
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/brand 
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 1
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:/phpStudy/WWW/coreseek-4.1-win32/etc/
    #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index brand_delta:brand
{
    source            = brand_delta
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/brand_delta 
}

index affiche
{
    source            = affiche
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/affiche 
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 1
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:/phpStudy/WWW/coreseek-4.1-win32/etc/
    #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index affiche_delta:affiche
{
    source            = affiche_delta
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/affiche_delta 
}

index commity
{
    source            = commity
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/commity 
    docinfo            = extern
    mlock            = 0
    morphology        = none
    min_word_len        = 1
    html_strip                = 0

    #中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
    #charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
    charset_dictpath = D:/phpStudy/WWW/coreseek-4.1-win32/etc/
    #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
    charset_type        = zh_cn.utf-8
}

index commity_delta:commity
{
    source            = commity_delta
    path            = D:/phpStudy/WWW/coreseek-4.1-win32/var/data/commity_delta 
}

#全局index定义
indexer
{
    mem_limit            = 128M
}

#searchd服务定义
searchd
{
    listen                  =   9312
    read_timeout        = 5
    max_children        = 0
    max_matches            = 1000
    seamless_rotate        = 1
    preopen_indexes        = 0
    unlink_old            = 1
    pid_file = D:/phpStudy/WWW/coreseek-4.1-win32/var/log/searchd_mysql.pid  #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    log = D:/phpStudy/WWW/coreseek-4.1-win32/var/log/searchd_mysql.log        #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    query_log = D:/phpStudy/WWW/coreseek-4.1-win32/var/log/query_mysql.log #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/...
    binlog_path =                                #关闭binlog日志
}