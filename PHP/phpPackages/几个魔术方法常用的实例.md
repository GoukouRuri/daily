
```php
<?php
function foobar($arg, $arg2) {
    echo __FUNCTION__, " got $arg and $arg2\n";
}
class foo {
    function bar($arg, $arg2) {
        echo __METHOD__, " got $arg and $arg2\n";
    }
}

// Call the foobar() function with 2 arguments
call_user_func_array("foobar", array("one", "two"));

// Call the $foo->bar() method with 2 arguments
$foo = new foo;
call_user_func_array(array($foo, "bar"), array("three", "four"));
```
> ### php实现类的后置方法
```php
<?php
/**
 * php实现类的后置方法,比如执行一些方法默认执行一些操作 
 */
class Base {
   private $object;
   
   private function add(){
       
   }
   
   private function select(){
       
   }
   
   private function update(){
       
   }
   
   // ...  类里所有的成员变量和方法都是私有方法,方法用_call魔术方法来调用
   
   public function __call($name, array $arguments = array()) {
       
      if(!$name) return '方法不存在';
      // 在方法调用前执行的内容
      
      call_user_func_array(array($this, $name), $arguments);
      
      // 在方法调用后执行的内容  
   }
}
```
***

> ### php实现对象的连贯操作
```php
<?php  
/** 
* 利用魔术方法__call模拟数据库连贯操作 
*/  
class DB  
{  
      
 public $sql=array(  
        'field'=>'',  
        'where'=>'',  
        'order'=>'',  
        'limit'=>''  
    );  
  
  
    function __call($name,$args){  
  
            $name=strtolower($name);  
            if(array_key_exists($name,$this->sql)){  
                $this->sql[$name]=$args[0];  
            }else{  
                echo 'Class'.get_class().' do not have a method '.$name;  
            }  
         return $this;  
    }  
  
    function select(){  
        echo "SELECT　".$this->sql['field']." FROM user ".$this->sql['where']." ".  
        $this->sql['order']." ".$this->sql['limit'];  
     }  
}  
  
$obj =new DB();  
$obj->field("id,name,time")  
    ->where("where id>9")  
    ->order('order by id')  
    ->limit(10)  
    ->select();   
  
?> 
```